# Minishell - 簡易シェルプログラム

## 概要
**Minishell** は42Tokyoの課題の一つで、Bashライクな簡易シェルをC言語で実装するプロジェクトです。この課題では、シェルの基本的な機能を実現し、プロセス管理やシステムコールについて深く理解することを目的としています。

---

## プロジェクトの目的
1. **シェルの基本機能の実装**：
   - コマンド実行、パイプ、リダイレクト、環境変数管理。
2. **プロセスとシグナル処理の理解**：
   - フォーク、エグゼック、シグナル制御。
3. **パーシングと文字列処理の強化**：
   - 入力文字列の解析とトークン化。
4. **C言語のスキル向上**：
   - システムプログラミングの実践。

---

## 機能一覧
- **コマンド実行**：
  - システムコマンドおよびビルトインコマンドの実行。
- **パイプとリダイレクト**：
  - 標準入力および標準出力のリダイレクト処理。
- **環境変数管理**：
  - 環境変数の設定、変更、削除。
- **シグナル処理**：
  - Ctrl+C, Ctrl+D, Ctrl+\ によるシグナル対応。
- **クォート処理**：
  - シングルクォート（'）とダブルクォート（"）の処理。

---

## プログラム構造

### メイン機能
```c
/*
** main.c
** メインプログラムの開始点
** - コマンドライン引数の処理
** - シェルループの開始
** - 終了処理の管理
*/

/*
** shell.c
** シェルの主要なループ処理
** - プロンプト表示
** - コマンドの読み取り
** - コマンドの実行管理
*/

/*
** signal.c
** シグナルハンドリング機能
** - SIGINT (Ctrl+C) の処理
** - SIGQUIT (Ctrl+\) の処理
** - 子プロセスのシグナル管理
*/
```

### パーシング機能
```c
/*
** main_parsing.c
** コマンドライン入力の解析処理
** - コマンドの分割処理
** - クォートの処理
** - 環境変数の展開
** - リダイレクトの解析
*/

/*
** make_parsing.c
** パイプラインの処理
** - パイプの検出と分割
** - コマンドの連結処理
** - メモリ管理
*/

/*
** double_quote.c, single_quote.c
** クォート処理の実装
** - ダブルクォート内の変数展開
** - シングルクォート内のリテラル処理
** - エスケープシーケンスの処理
*/
```

### ビルトインコマンド
```c
/*
** cd.c - ディレクトリ移動
** - ホームディレクトリ移動
** - 相対/絶対パス移動
** - エラー処理
*/

/*
** echo.c - 文字列出力
** - -n オプション対応
** - 環境変数展開
*/

/*
** env.c - 環境変数表示
** - 現在の環境変数一覧
*/

/*
** export.c - 環境変数設定
** - 新規変数追加
** - 既存変数更新
*/

/*
** unset.c - 環境変数削除
** - 指定変数の削除
** - エラー処理
*/

/*
** exit.c - シェル終了
** - 終了ステータス処理
** - メモリ解放
*/
```

### 環境変数管理
```c
/*
** env.c (srcs/shell/env/)
** - PATH変数の取得と管理
** - 環境変数の検索機能
** - 環境変数の追加/更新
** - メモリ管理機能
*/
```

### ユーティリティ関数
```c
/*
** get_next_line
** - ファイル読み込み
** - 行単位の処理
*/

/*
** ft_strchr_index.c
** - 文字列検索
** - インデックス取得
*/

/*
** ft_strjoin_minishell.c
** - 文字列結合
** - メモリ管理
*/
```

## 使用方法
### コンパイル
```bash
make        # プログラムのコンパイル
make clean  # オブジェクトファイルの削除
make fclean # 全生成ファイルの削除
make re     # 再コンパイル
```

### 実行
```bash
./minishell
```

### コマンド例
```bash
minishell> echo Hello, World!
minishell> ls -l | grep .c
minishell> cat file.txt > output.txt
minishell> export VAR=value
minishell> echo $VAR
```

## 注意事項
- このプログラムは42Tokyoの課題として作成されています
- bashの完全な再現ではなく、基本的な機能のみを実装しています
- メモリリークの防止に注意を払って実装されています
- シグナル処理やプロセス管理に特に注意を払っています

## 作者
- yabukirento
- myokono

---

## ビルトインコマンド一覧
| コマンド         | 説明                                                    |
|------------------|--------------------------------------------------------|
| echo             | テキスト出力。オプション `-n` で改行なし出力。         |
| cd               | ディレクトリの移動。                                    |
| pwd              | カレントディレクトリのパスを表示。                      |
| export           | 環境変数の設定。                                        |
| unset            | 環境変数の削除。                                        |
| env              | 現在の環境変数を一覧表示。                              |
| exit             | シェルの終了。ステータスコードを指定可能。              |

---

## 課題の学びポイント
- **プロセスとシグナル処理**：
  プロセス生成とシグナル制御を実践的に学習。
- **文字列解析とパーシング**：
  コマンド解析やトークン化の実装。
- **シェルの設計と実装力強化**：
  効率的なリダイレクトやパイプ処理。

---

## 参考リンク
- [42Tokyo公式ページ](https://42tokyo.jp/)
- [Minishell課題仕様書](https://github.com/42tokyo/minishell)
- [Linux man pages - exec(3)](https://man7.org/linux/man-pages/man3/exec.3.html)

---

## ライセンス
このプロジェクトは42Tokyoの課題の一部であり、教育目的で使用されます。再配布や商用利用は制限される場合があります。

